// UTF-8
// –ö–∞—Ä—Ç–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –ø–æ –≤–Ω–µ—à–Ω–µ–º—É –≤–∏–¥—É —Å–∏–º–≤–æ–ª–æ–≤
const alph = {
    '1': ['ùü£'],
    '–∞': ['a'],
    '–≤': [' ô'],
    '–µ': ['e'],
    '–∑': ['…ú'],
    '–∏': ['·¥é'],
    '–∫': ['Œ∫'],
    '–æ': ['o', 'Œø'],
    '–ø': ['–ø'],
    '—Ä': ['p'],
    '—Å': ['c', 'œ≤'],
    '—É': ['y'],
    '—Ö': ['x'],
    '—è': ['·¥ô'],

    '–ê': ['A', 'Œë'],
    '–í': ['B', 'Œí', 'ùñ°'],
    '–ì': ['Œì', '·í•'],
    '–ï': ['E', 'Œï'],
    '–ò': ['Õ∂'],
    '–ö': ['K', 'Œö'],
    '–ú': ['M', 'Œú'],
    '–ù': ['H', 'Œó'],
    '–û': ['O', 'Œü'],
    '–ü': ['Œ†'],
    '–†': ['P', 'Œ°'],
    '–°': ['C', 'œπ'],
    '–¢': ['T', 'Œ§'],
    '–•': ['X', 'Œß'],
};

// –í—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è &...; —Å–∏–º–≤–æ–ª–æ–≤ –≤ UTF-8
let tmp = document.createElement('div');

export default function mask(str: string) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–∞ &...; –≤ —Å–∏–º–≤–æ–ª
    tmp.innerHTML = str;
    str = tmp.innerHTML;

    // –ó–∞–º–µ–Ω–∞ —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –ø–æ—Ö–æ–∂–∏–µ
    return str.split('').map(s => {
        const repl = alph[s];

        // –ù–µ—Ç –∑–∞–º–µ–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
        if (!repl) return s;

        // –ó–∞–º–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ - –±–µ—Ä–µ–º –µ–µ
        if (repl.length === 1) return repl[0];

        // –ó–∞–º–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ - –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é
        return repl[Math.floor(Math.random() * repl.length)];
    }).join(String.fromCharCode(8204)); // –°–æ–µ–¥–∏–Ω–∏—Ç—å —Å–∏–º–≤–æ–ª—ã —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º "—Å–∏–º–≤–æ–ª –Ω—É–ª–µ–≤–æ–π —à–∏—Ä–∏–Ω—ã"
}
